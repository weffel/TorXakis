<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Quantity</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Quantity.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data.Quantity.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">MissingH-1.4.0.1: Large utility library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Copyright (C) 2006-2011 John Goerzen</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>John Goerzen &lt;jgoerzen@complete.org&gt; </td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Quantity</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Tools for rendering sizes</p><p>Written by John Goerzen, jgoerzen@complete.org </p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:renderNum">renderNum</a> :: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:renderNums">renderNums</a> :: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; [a] -&gt; [<a href="../base-4.9.1.0/Data-String.html#t:String">String</a>]</li><li class="src short"><a href="#v:parseNum">parseNum</a> :: (<a href="../base-4.9.1.0/Text-Read.html#t:Read">Read</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Fractional">Fractional</a> a) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> a</li><li class="src short"><a href="#v:parseNumInt">parseNumInt</a> :: (<a href="../base-4.9.1.0/Text-Read.html#t:Read">Read</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Integral">Integral</a> a) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> a</li><li class="src short"><a href="#v:quantifyNum">quantifyNum</a> :: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a, <a href="../base-4.9.1.0/Numeric.html#t:Floating">Floating</a> b, <a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> b) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; a -&gt; (b, <a href="../base-4.9.1.0/Data-Char.html#t:Char">Char</a>)</li><li class="src short"><a href="#v:quantifyNums">quantifyNums</a> :: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a, <a href="../base-4.9.1.0/Numeric.html#t:Floating">Floating</a> b, <a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> b) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; [a] -&gt; ([b], <a href="../base-4.9.1.0/Data-Char.html#t:Char">Char</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:SizeOpts">SizeOpts</a> = <a href="#v:SizeOpts">SizeOpts</a> {<ul class="subs"><li><a href="#v:base">base</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:powerIncr">powerIncr</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:firstPower">firstPower</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:suffixes">suffixes</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li></ul>}</li><li class="src short"><a href="#v:binaryOpts">binaryOpts</a> :: <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></li><li class="src short"><a href="#v:siOpts">siOpts</a> :: <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:renderNum" class="def">renderNum</a> <a href="src/Data.Quantity.html#renderNum" class="link">Source</a> <a href="#v:renderNum" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>Precision of the result</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>The number to examine</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Render a number into a string, based on the given quantities.  This is
useful for displaying quantities in terms of bytes or in SI units.  Give this
function the <code><a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></code> for the desired output, and a precision (number of
digits to the right of the decimal point), and you get a string output.</p><p>Here are some examples:</p><pre>Data.Quantity&gt; renderNum binaryOpts 0 1048576
&quot;1M&quot;
Data.Quantity&gt; renderNum binaryOpts 2 10485760
&quot;10.00M&quot;
Data.Quantity&gt; renderNum binaryOpts 3 1048576
&quot;1.000M&quot;
Data.Quantity&gt; renderNum binaryOpts 3 1500000
&quot;1.431M&quot;
Data.Quantity&gt; renderNum binaryOpts 2 (1500 ** 3)
&quot;3.14G&quot;</pre><pre>Data.Quantity&gt; renderNum siOpts 2 1024
&quot;1.02k&quot;
Data.Quantity&gt; renderNum siOpts 2 1048576
&quot;1.05M&quot;
Data.Quantity&gt; renderNum siOpts 2 0.001
&quot;1.00m&quot;
Data.Quantity&gt; renderNum siOpts 2 0.0001
&quot;100.00u&quot;</pre><p>If you want more control over the output, see <code><a href="Data-Quantity.html#v:quantifyNum">quantifyNum</a></code>. </p></div></div><div class="top"><p class="src"><a id="v:renderNums" class="def">renderNums</a> <a href="src/Data.Quantity.html#renderNums" class="link">Source</a> <a href="#v:renderNums" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>Prevision of the result</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>The numbers to examine</p></td></tr><tr><td class="src">-&gt; [<a href="../base-4.9.1.0/Data-String.html#t:String">String</a>]</td><td class="doc"><p>Result</p></td></tr></table></div><div class="doc"><p>Like <code><a href="Data-Quantity.html#v:renderNum">renderNum</a></code>, but operates on a list of numbers.  The first number
in the list will be evaluated for the suffix.  The same suffix and scale will
be used for the remaining items in the list.  See <code><a href="Data-Quantity.html#v:renderNum">renderNum</a></code> for more
examples.</p><p>Also, unlike <code><a href="Data-Quantity.html#v:renderNum">renderNum</a></code>, the %f instead of %g printf format is used so that
&quot;scientific&quot; notation is avoided in the output.</p><p>Examples:</p><pre>*Data.Quantity&gt; renderNums binaryOpts 3 [1500000, 10240, 104857600]
[&quot;1.431M&quot;,&quot;0.010M&quot;,&quot;100.000M&quot;]
*Data.Quantity&gt; renderNums binaryOpts 3 [1500, 10240, 104857600]
[&quot;1.465K&quot;,&quot;10.000K&quot;,&quot;102400.000K&quot;]</pre></div></div><div class="top"><p class="src"><a id="v:parseNum" class="def">parseNum</a> <a href="src/Data.Quantity.html#parseNum" class="link">Source</a> <a href="#v:parseNum" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.9.1.0/Text-Read.html#t:Read">Read</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Fractional">Fractional</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></td><td class="doc"><p>Information on how to parse this data</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc"><p>Whether to perform a case-insensitive match</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>The string to parse</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Parses a String, possibly generated by <code><a href="Data-Quantity.html#v:renderNum">renderNum</a></code>.  Parses the suffix
and applies it to the number, which is read via the Read class.</p><p>Returns Left &quot;error message&quot; on error, or Right number on successful parse.</p><p>If you want an Integral result, the convenience function <code><a href="Data-Quantity.html#v:parseNumInt">parseNumInt</a></code> is for
you.</p></div></div><div class="top"><p class="src"><a id="v:parseNumInt" class="def">parseNumInt</a> <a href="src/Data.Quantity.html#parseNumInt" class="link">Source</a> <a href="#v:parseNumInt" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.9.1.0/Text-Read.html#t:Read">Read</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Integral">Integral</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a></td><td class="doc"><p>Information on how to parse this data</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc"><p>Whether to perform a case-insensitive match</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>The string to parse</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Parse a number as with <code><a href="Data-Quantity.html#v:parseNum">parseNum</a></code>, but return the result as
an <code><a href="../base-4.9.1.0/Prelude.html#t:Integral">Integral</a></code>.  Any type such as Integer, Int, etc. can be used for the
result type.</p><p>This function simply calls <code><a href="../base-4.9.1.0/Prelude.html#v:round">round</a></code> on the result of <code><a href="Data-Quantity.html#v:parseNum">parseNum</a></code>.  A
<code><a href="../base-4.9.1.0/Prelude.html#t:Double">Double</a></code> is used internally for the parsing of the numeric component.</p><p>By using this function, a user can still say something like 1.5M and get an
integral result. </p></div></div><div class="top"><p class="src"><a id="v:quantifyNum" class="def">quantifyNum</a> :: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a, <a href="../base-4.9.1.0/Numeric.html#t:Floating">Floating</a> b, <a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> b) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; a -&gt; (b, <a href="../base-4.9.1.0/Data-Char.html#t:Char">Char</a>) <a href="src/Data.Quantity.html#quantifyNum" class="link">Source</a> <a href="#v:quantifyNum" class="selflink">#</a></p><div class="doc"><p>Takes a number and returns a new (quantity, suffix) combination.
The space character is used as the suffix for items around 0. </p></div></div><div class="top"><p class="src"><a id="v:quantifyNums" class="def">quantifyNums</a> :: (<a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.9.1.0/Prelude.html#t:Real">Real</a> a, <a href="../base-4.9.1.0/Numeric.html#t:Floating">Floating</a> b, <a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> b) =&gt; <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> -&gt; [a] -&gt; ([b], <a href="../base-4.9.1.0/Data-Char.html#t:Char">Char</a>) <a href="src/Data.Quantity.html#quantifyNums" class="link">Source</a> <a href="#v:quantifyNums" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Data-Quantity.html#v:quantifyNum">quantifyNum</a></code>, but takes a list of numbers.  The first number in
the list will be evaluated for the suffix.  The same suffix and scale will
be used for the remaining items in the list.  Please see <code><a href="Data-Quantity.html#v:renderNums">renderNums</a></code> for
an example of how this works.</p><p>It is invalid to use this function on an empty list. </p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SizeOpts" class="def">SizeOpts</a> <a href="src/Data.Quantity.html#SizeOpts" class="link">Source</a> <a href="#t:SizeOpts" class="selflink">#</a></p><div class="doc"><p>The options for <code><a href="Data-Quantity.html#v:quantifyNum">quantifyNum</a></code> and <code><a href="Data-Quantity.html#v:renderNum">renderNum</a></code> </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SizeOpts" class="def">SizeOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:base" class="def">base</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>The base from which calculations are made</p></div></li><li><dfn class="src"><a id="v:powerIncr" class="def">powerIncr</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>The increment to the power for each new suffix</p></div></li><li><dfn class="src"><a id="v:firstPower" class="def">firstPower</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>The first power for which suffixes are given</p></div></li><li><dfn class="src"><a id="v:suffixes" class="def">suffixes</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></dfn><div class="doc"><p>The suffixes themselves</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:binaryOpts" class="def">binaryOpts</a> :: <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> <a href="src/Data.Quantity.html#binaryOpts" class="link">Source</a> <a href="#v:binaryOpts" class="selflink">#</a></p><div class="doc"><p>Predefined definitions for byte measurement in groups of 1024, from 0 to
2**80 </p></div></div><div class="top"><p class="src"><a id="v:siOpts" class="def">siOpts</a> :: <a href="Data-Quantity.html#t:SizeOpts">SizeOpts</a> <a href="src/Data.Quantity.html#siOpts" class="link">Source</a> <a href="#v:siOpts" class="selflink">#</a></p><div class="doc"><p>Predefined definitions for SI measurement, from 10**-24 to 10**24. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>
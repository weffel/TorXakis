<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>TorXakis.Compiler.MapsTo</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/TorXakis.Compiler.MapsTo.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">txs-compiler-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) TNO and Radboud University</td></tr><tr><th>License</th><td>BSD3 (see the file license.txt)</td></tr><tr><th>Maintainer</th><td>damian.nadales@gmail.com (Embedded Systems Innovation by TNO)</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">TorXakis.Compiler.MapsTo</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Predicates on maps</a></li><li><a href="#g:2">Lookup</a></li><li><a href="#g:3">Extraction of maps, keys and values</a></li><li><a href="#g:4">Combination of maps</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Definition for the <code><a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a></code> class, and associated operators.</p><p>A constraint of the form 'MapsTo k v mm' denotes that <code>mm</code> contains a map
 from keys of type <code>k</code> to values of type <code>t</code>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="TorXakis-Compiler-MapsTo.html#t:In">In</a> (k, v) (<a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> mm) ~ <a href="../base-4.10.1.0/Data-Bool.html#v:True">True</a> =&gt; <a href="#t:MapsTo">MapsTo</a> k v mm <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">type family</span> <a href="#t:In">In</a> (x :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a>) (ys :: Tree <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a>) :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">type family</span> <a href="#t:Contents">Contents</a> mm :: Tree <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:lookup">lookup</a> :: (<a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> v) =&gt; k -&gt; mm -&gt; <a href="../base-4.10.1.0/Data-Either.html#t:Either">Either</a> <a href="TorXakis-Compiler-Error.html#t:Error">Error</a> v</li><li class="src short"><a href="#v:lookupM">lookupM</a> :: (<a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> v) =&gt; k -&gt; mm -&gt; <a href="TorXakis-Compiler-Data.html#t:CompilerM">CompilerM</a> v</li><li class="src short"><a href="#v:keys">keys</a> :: <span class="keyword">forall</span> k v mm. <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; [k]</li><li class="src short"><a href="#v:values">values</a> :: <span class="keyword">forall</span> k v mm. <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; [v]</li><li class="src short"><a href="#v:innerMap">innerMap</a> :: <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v</li><li class="src short"><span class="keyword">data</span> a <a href="#t::-38-">:&amp;</a> b = a <a href="#v::-38-">:&amp;</a> b</li><li class="src short"><a href="#v:-60-.-43--62-">(&lt;.+&gt;)</a> :: (<a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k) =&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; mm -&gt; mm</li><li class="src short"><a href="#v:-60-.-43--43--62-">(&lt;.++&gt;)</a> :: (<a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm) =&gt; [(k, v)] -&gt; mm -&gt; mm</li><li class="src short"><a href="#v:.-38-">(.&amp;)</a> :: <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k0 =&gt; [(k0, v0)] -&gt; mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k0 v0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> mm</li><li class="src short"><a href="#v:.-38-.">(.&amp;.)</a> :: (<a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k0, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k1) =&gt; [(k0, v0)] -&gt; [(k1, v1)] -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k0 v0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k1 v1</li><li class="src short"><a href="#v:replaceInnerMap">replaceInnerMap</a> :: <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; mm</li></ul></div><div id="interface"><h1 id="g:1">Predicates on maps</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="TorXakis-Compiler-MapsTo.html#t:In">In</a> (k, v) (<a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> mm) ~ <a href="../base-4.10.1.0/Data-Bool.html#v:True">True</a> =&gt; <a id="t:MapsTo" class="def">MapsTo</a> k v mm <span class="keyword">where</span> <a href="src/TorXakis.Compiler.MapsTo.html#MapsTo" class="link">Source</a> <a href="#t:MapsTo" class="selflink">#</a></p><div class="doc"><p><code>mm</code> maps keys of type <code>k</code> onto values of type <code>v</code>. The type <code>mm</code> can be
 thought as a composite map, which contains multiple maps. See <code>:&amp;</code> for more
 details.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="TorXakis-Compiler-MapsTo.html#v:lookup">lookup</a>, <a href="TorXakis-Compiler-MapsTo.html#v:innerMap">innerMap</a>, <a href="TorXakis-Compiler-MapsTo.html#v:-60-.-43--62-">(&lt;.+&gt;)</a>, <a href="TorXakis-Compiler-MapsTo.html#v:replaceInnerMap">replaceInnerMap</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:lookup" class="def">lookup</a> :: (<a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> v) =&gt; k -&gt; mm -&gt; <a href="../base-4.10.1.0/Data-Either.html#t:Either">Either</a> <a href="TorXakis-Compiler-Error.html#t:Error">Error</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookup" class="link">Source</a> <a href="#v:lookup" class="selflink">#</a></p><div class="doc"><p>Lookup a key in the map.</p></div><p class="src"><a id="v:lookupM" class="def">lookupM</a> :: (<a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> v) =&gt; k -&gt; mm -&gt; <a href="TorXakis-Compiler-Data.html#t:CompilerM">CompilerM</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookupM" class="link">Source</a> <a href="#v:lookupM" class="selflink">#</a></p><div class="doc"><p>Monadic version of <code>lookup</code>.</p></div><p class="src"><a id="v:innerMap" class="def">innerMap</a> :: mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#innerMap" class="link">Source</a> <a href="#v:innerMap" class="selflink">#</a></p><div class="doc"><p>Get the inner map.</p></div><p class="src"><a id="v:-60-.-43--62-" class="def">(&lt;.+&gt;)</a> :: <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k =&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; mm -&gt; mm <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/TorXakis.Compiler.MapsTo.html#%3C.%2B%3E" class="link">Source</a> <a href="#v:-60-.-43--62-" class="selflink">#</a></p><div class="doc"><p>Add a map. The addition is biased towards the new map. If the two maps
 have the same key, then the value of the right map is discarded, and the
 value of the left map is kept.</p></div><p class="src"><a id="v:replaceInnerMap" class="def">replaceInnerMap</a> :: mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; mm <a href="src/TorXakis.Compiler.MapsTo.html#replaceInnerMap" class="link">Source</a> <a href="#v:replaceInnerMap" class="selflink">#</a></p><div class="doc"><p>Replace the inner map with the given one.</p></div></div><div class="subs instances"><p id="control.i:MapsTo" class="caption collapser" onclick="toggleSection('i:MapsTo')">Instances</p><div id="section.i:MapsTo" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MapsTo:MapsTo:1" class="instance expander" onclick="toggleSection('i:ic:MapsTo:MapsTo:1')"></span> PairMapsTo k v m0 m1 inM0 inM1 =&gt; <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v (<a href="TorXakis-Compiler-MapsTo.html#t::-38-">(:&amp;)</a> m0 m1)</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-203" class="link">Source</a> <a href="#t:MapsTo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MapsTo:MapsTo:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lookup">lookup</a> :: k -&gt; (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="../base-4.10.1.0/Data-Either.html#t:Either">Either</a> <a href="TorXakis-Compiler-Error.html#t:Error">Error</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookup" class="link">Source</a> <a href="#v:lookup" class="selflink">#</a></p><p class="src"><a href="#v:lookupM">lookupM</a> :: k -&gt; (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="TorXakis-Compiler-Data.html#t:CompilerM">CompilerM</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookupM" class="link">Source</a> <a href="#v:lookupM" class="selflink">#</a></p><p class="src"><a href="#v:innerMap">innerMap</a> :: (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#innerMap" class="link">Source</a> <a href="#v:innerMap" class="selflink">#</a></p><p class="src"><a href="#v:-60-.-43--62-">(&lt;.+&gt;)</a> :: <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1 <a href="src/TorXakis.Compiler.MapsTo.html#%3C.%2B%3E" class="link">Source</a> <a href="#v:-60-.-43--62-" class="selflink">#</a></p><p class="src"><a href="#v:replaceInnerMap">replaceInnerMap</a> :: (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1 <a href="src/TorXakis.Compiler.MapsTo.html#replaceInnerMap" class="link">Source</a> <a href="#v:replaceInnerMap" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MapsTo:MapsTo:2" class="instance expander" onclick="toggleSection('i:ic:MapsTo:MapsTo:2')"></span> <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v (<a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v)</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-135" class="link">Source</a> <a href="#t:MapsTo" class="selflink">#</a></td><td class="doc"><p>Canonical instance: a map from <code>k</code> to <code>v</code> maps <code>k</code> to <code>v</code>.</p></td></tr><tr><td colspan="2"><div id="section.i:ic:MapsTo:MapsTo:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lookup">lookup</a> :: k -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="../base-4.10.1.0/Data-Either.html#t:Either">Either</a> <a href="TorXakis-Compiler-Error.html#t:Error">Error</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookup" class="link">Source</a> <a href="#v:lookup" class="selflink">#</a></p><p class="src"><a href="#v:lookupM">lookupM</a> :: k -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="TorXakis-Compiler-Data.html#t:CompilerM">CompilerM</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookupM" class="link">Source</a> <a href="#v:lookupM" class="selflink">#</a></p><p class="src"><a href="#v:innerMap">innerMap</a> :: <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#innerMap" class="link">Source</a> <a href="#v:innerMap" class="selflink">#</a></p><p class="src"><a href="#v:-60-.-43--62-">(&lt;.+&gt;)</a> :: <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#%3C.%2B%3E" class="link">Source</a> <a href="#v:-60-.-43--62-" class="selflink">#</a></p><p class="src"><a href="#v:replaceInnerMap">replaceInnerMap</a> :: <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#replaceInnerMap" class="link">Source</a> <a href="#v:replaceInnerMap" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:In" class="def">In</a> (x :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a>) (ys :: Tree <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a>) :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <span class="keyword">where ...</span> <a href="src/TorXakis.Compiler.MapsTo.html#In" class="link">Source</a> <a href="#t:In" class="selflink">#</a></p><div class="doc"><p>Compute when a type is in a tree.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="TorXakis-Compiler-MapsTo.html#t:In">In</a> x (Leaf y) = x == y</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="TorXakis-Compiler-MapsTo.html#t:In">In</a> x (Node l r) = <a href="TorXakis-Compiler-MapsTo.html#t:In">In</a> x l <a href="../base-4.10.1.0/Data-Type-Bool.html#t:-124--124-">||</a> <a href="TorXakis-Compiler-MapsTo.html#t:In">In</a> x r</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:Contents" class="def">Contents</a> mm :: Tree <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="src/TorXakis.Compiler.MapsTo.html#Contents" class="link">Source</a> <a href="#t:Contents" class="selflink">#</a></p><div class="doc"><p>Type family that represents the contents of a map.</p></div><div class="subs instances"><p id="control.i:Contents" class="caption collapser" onclick="toggleSection('i:Contents')">Instances</p><div id="section.i:Contents" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:if:Contents:Contents:1" class="instance expander" onclick="toggleSection('i:if:Contents:Contents:1')"></span> <span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> [a]</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-132" class="link">Source</a> <a href="#t:Contents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:if:Contents:Contents:1" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> [a]</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:if:Contents:Contents:2" class="instance expander" onclick="toggleSection('i:if:Contents:Contents:2')"></span> <span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> (<a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v)</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-129" class="link">Source</a> <a href="#t:Contents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:if:Contents:Contents:2" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> (<a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v)</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:if:Contents:Contents:3" class="instance expander" onclick="toggleSection('i:if:Contents:Contents:3')"></span> <span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> (<a href="TorXakis-Compiler-MapsTo.html#t::-38-">(:&amp;)</a> a b)</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-176" class="link">Source</a> <a href="#t:Contents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:if:Contents:Contents:3" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> (<a href="TorXakis-Compiler-MapsTo.html#t::-38-">(:&amp;)</a> a b)</div></div></td></tr></table></div></div></div><h1 id="g:2">Lookup</h1><div class="top"><p class="src"><a id="v:lookup" class="def">lookup</a> :: (<a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> v) =&gt; k -&gt; mm -&gt; <a href="../base-4.10.1.0/Data-Either.html#t:Either">Either</a> <a href="TorXakis-Compiler-Error.html#t:Error">Error</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookup" class="link">Source</a> <a href="#v:lookup" class="selflink">#</a></p><div class="doc"><p>Lookup a key in the map.</p></div></div><div class="top"><p class="src"><a id="v:lookupM" class="def">lookupM</a> :: (<a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> k, <a href="../base-4.10.1.0/Type-Reflection.html#t:Typeable">Typeable</a> v) =&gt; k -&gt; mm -&gt; <a href="TorXakis-Compiler-Data.html#t:CompilerM">CompilerM</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookupM" class="link">Source</a> <a href="#v:lookupM" class="selflink">#</a></p><div class="doc"><p>Monadic version of <code>lookup</code>.</p></div></div><h1 id="g:3">Extraction of maps, keys and values</h1><div class="top"><p class="src"><a id="v:keys" class="def">keys</a> :: <span class="keyword">forall</span> k v mm. <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; [k] <a href="src/TorXakis.Compiler.MapsTo.html#keys" class="link">Source</a> <a href="#v:keys" class="selflink">#</a></p><div class="doc"><p>Get all the keys of type <code>k</code> that are associated to values of type <code>v</code> in
 the given map.</p></div></div><div class="top"><p class="src"><a id="v:values" class="def">values</a> :: <span class="keyword">forall</span> k v mm. <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; [v] <a href="src/TorXakis.Compiler.MapsTo.html#values" class="link">Source</a> <a href="#v:values" class="selflink">#</a></p><div class="doc"><p>Get all the values of type <code>v</code> that are associated to keys of type <code>k</code> in
 the given map.</p></div></div><div class="top"><p class="src"><a id="v:innerMap" class="def">innerMap</a> :: <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#innerMap" class="link">Source</a> <a href="#v:innerMap" class="selflink">#</a></p><div class="doc"><p>Get the inner map.</p></div></div><h1 id="g:4">Combination of maps</h1><div class="top"><p class="src"><span class="keyword">data</span> a <a id="t::-38-" class="def">:&amp;</a> b <span class="fixity">infixr 5</span><span class="rightedge"></span> <a href="src/TorXakis.Compiler.MapsTo.html#%3A%26" class="link">Source</a> <a href="#t::-38-" class="selflink">#</a></p><div class="doc"><p>Combinator for maps.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">a <a id="v::-38-" class="def">:&amp;</a> b <span class="fixity">infixr 5</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i::-38-" class="caption collapser" onclick="toggleSection('i::-38-')">Instances</p><div id="section.i::-38-" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id::-38-:MapsTo:1" class="instance expander" onclick="toggleSection('i:id::-38-:MapsTo:1')"></span> PairMapsTo k v m0 m1 inM0 inM1 =&gt; <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v (<a href="TorXakis-Compiler-MapsTo.html#t::-38-">(:&amp;)</a> m0 m1)</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-203" class="link">Source</a> <a href="#t::-38-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id::-38-:MapsTo:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lookup">lookup</a> :: k -&gt; (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="../base-4.10.1.0/Data-Either.html#t:Either">Either</a> <a href="TorXakis-Compiler-Error.html#t:Error">Error</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookup" class="link">Source</a> <a href="#v:lookup" class="selflink">#</a></p><p class="src"><a href="#v:lookupM">lookupM</a> :: k -&gt; (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="TorXakis-Compiler-Data.html#t:CompilerM">CompilerM</a> v <a href="src/TorXakis.Compiler.MapsTo.html#lookupM" class="link">Source</a> <a href="#v:lookupM" class="selflink">#</a></p><p class="src"><a href="#v:innerMap">innerMap</a> :: (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v <a href="src/TorXakis.Compiler.MapsTo.html#innerMap" class="link">Source</a> <a href="#v:innerMap" class="selflink">#</a></p><p class="src"><a href="#v:-60-.-43--62-">(&lt;.+&gt;)</a> :: <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1 <a href="src/TorXakis.Compiler.MapsTo.html#%3C.%2B%3E" class="link">Source</a> <a href="#v:-60-.-43--62-" class="selflink">#</a></p><p class="src"><a href="#v:replaceInnerMap">replaceInnerMap</a> :: (m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1) -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; m0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> m1 <a href="src/TorXakis.Compiler.MapsTo.html#replaceInnerMap" class="link">Source</a> <a href="#v:replaceInnerMap" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id::-38-:Contents:2" class="instance expander" onclick="toggleSection('i:id::-38-:Contents:2')"></span> <span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> (<a href="TorXakis-Compiler-MapsTo.html#t::-38-">(:&amp;)</a> a b)</span> <a href="src/TorXakis.Compiler.MapsTo.html#line-176" class="link">Source</a> <a href="#t::-38-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id::-38-:Contents:2" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="TorXakis-Compiler-MapsTo.html#t:Contents">Contents</a> (<a href="TorXakis-Compiler-MapsTo.html#t::-38-">(:&amp;)</a> a b)</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:-60-.-43--62-" class="def">(&lt;.+&gt;)</a> :: (<a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k) =&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; mm -&gt; mm <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/TorXakis.Compiler.MapsTo.html#%3C.%2B%3E" class="link">Source</a> <a href="#v:-60-.-43--62-" class="selflink">#</a></p><div class="doc"><p>Add a map. The addition is biased towards the new map. If the two maps
 have the same key, then the value of the right map is discarded, and the
 value of the left map is kept.</p></div></div><div class="top"><p class="src"><a id="v:-60-.-43--43--62-" class="def">(&lt;.++&gt;)</a> :: (<a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k, <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm) =&gt; [(k, v)] -&gt; mm -&gt; mm <span class="fixity">infixr 6</span><span class="rightedge"></span> <a href="src/TorXakis.Compiler.MapsTo.html#%3C.%2B%2B%3E" class="link">Source</a> <a href="#v:-60-.-43--43--62-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href=".+">.+</a></code> but its left argument is a list instead of a map. Useful when
 we want to add a list to a composite map.</p></div></div><div class="top"><p class="src"><a id="v:.-38-" class="def">(.&amp;)</a> :: <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k0 =&gt; [(k0, v0)] -&gt; mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k0 v0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> mm <span class="fixity">infixr 6</span><span class="rightedge"></span> <a href="src/TorXakis.Compiler.MapsTo.html#.%26" class="link">Source</a> <a href="#v:.-38-" class="selflink">#</a></p><div class="doc"><p>Combine a list of key values pairs with an existing map.</p></div></div><div class="top"><p class="src"><a id="v:.-38-." class="def">(.&amp;.)</a> :: (<a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k0, <a href="../base-4.10.1.0/Data-Ord.html#t:Ord">Ord</a> k1) =&gt; [(k0, v0)] -&gt; [(k1, v1)] -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k0 v0 <a href="TorXakis-Compiler-MapsTo.html#t::-38-">:&amp;</a> <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k1 v1 <span class="fixity">infixr 6</span><span class="rightedge"></span> <a href="src/TorXakis.Compiler.MapsTo.html#.%26." class="link">Source</a> <a href="#v:.-38-." class="selflink">#</a></p><div class="doc"><p>Combine lists of key values pairs into a pair of maps.</p></div></div><div class="top"><p class="src"><a id="v:replaceInnerMap" class="def">replaceInnerMap</a> :: <a href="TorXakis-Compiler-MapsTo.html#t:MapsTo">MapsTo</a> k v mm =&gt; mm -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> k v -&gt; mm <a href="src/TorXakis.Compiler.MapsTo.html#replaceInnerMap" class="link">Source</a> <a href="#v:replaceInnerMap" class="selflink">#</a></p><div class="doc"><p>Replace the inner map with the given one.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>